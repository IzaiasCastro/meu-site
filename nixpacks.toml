# =======================================
# üì¶ Nixpacks Config - Portf√≥lio React
# =======================================

# Define o ambiente de build
[phases.setup]
# Usa uma vers√£o moderna e est√°vel do Node.js
nixPkgs = ["nodejs_20"]

# Instala as depend√™ncias do projeto
[phases.install]
cmds = ["npm install"]

# Compila a aplica√ß√£o para produ√ß√£o
[phases.build]
cmds = ["npm run build"]

# Define como iniciar a aplica√ß√£o
[start]
# O 'serve' √© um servidor est√°tico simples para a pasta 'dist' gerada pelo build.
# A flag '-s' indica que √© um Single-Page Application, tratando todas as rotas.
# A flag '-l $PORT' faz o servidor escutar na porta fornecida pelo Easypanel.
cmd = "npx serve -s dist -l $PORT"

# Define vari√°veis de ambiente para o container
[variables]
NODE_ENV = "production"
HOST = "0.0.0.0"
